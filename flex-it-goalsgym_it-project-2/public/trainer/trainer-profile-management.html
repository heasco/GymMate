<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Trainer Profile - GOALS Gym</title>
    <link rel="icon" type="image/png" href="image/logo2.png">
    <link rel="stylesheet" href="../admin/admin-css/admin-mainpage.css">
    <link rel="stylesheet" href="./trainer-css/trainer-profile-management.css">
</head>
<body>
    <div class="admin-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>GOALS Gym Trainer</h2>
                <p id="sidebarTrainerName" class="admin-fullname">Loading...</p>
            </div>
            <nav class="sidebar-nav">
                <a href="trainer-mainpage.html"><span>Dashboard</span></a>
                <a href="view-and-change-schedule.html"><span>My Classes & Schedule</span></a>
                <a href="trainer-profile-management.html" class="active"><span>Profile</span></a>
                <a href="view-classes-feedback.html"><span>Feedback</span></a>
            </nav>
        </aside>
        
        <header class="header">
            <button class="menu-toggle" id="menuToggle">☰</button>
            <h1>Edit Profile</h1>
            <button class="logout-btn" id="logoutBtn">Logout</button>
        </header>
        
        <main class="main-content">
            <div class="container">
                <div class="profile-edit-card">
                    <h2>Update Profile</h2>
                    <form id="profileForm" autocomplete="off">
                        <div class="form-group">
                            <label for="username">Username (for login)</label>
                            <input type="text" id="username" name="username" required minlength="3" placeholder="Loading...">
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" placeholder="Loading...">
                            <small style="color: #666; font-size: 12px;">Optional - used for notifications</small>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone (+63XXXXXXXXXX)</label>
                            <input type="text" id="phone" name="phone" pattern="^\+63\d{10}$" placeholder="+63XXXXXXXXXX">
                            <small style="color: #666; font-size: 12px;">Optional - Philippine format</small>
                        </div>
                        
                        <hr style="margin: 30px 0; border: none; border-top: 2px solid #e0e0e0;">
                        
                        <h3 style="color: #d32f2f; margin-bottom: 15px;">Change Password (Optional)</h3>
                        
                        <!-- ✅ CURRENT PASSWORD FIELD (FIRST) -->
                        <div class="form-group">
                            <label for="currentPassword">Current Password</label>
                            <input type="password" id="currentPassword" name="currentPassword" autocomplete="current-password" placeholder="Enter current password to change">
                            <small style="color: #666; font-size: 12px;">Required only if changing password</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="newPassword">New Password</label>
                            <input type="password" id="newPassword" name="newPassword" minlength="6" autocomplete="new-password" placeholder="Enter new password">
                            <small style="color: #666; font-size: 12px;">Minimum 6 characters</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="confirmPassword">Confirm New Password</label>
                            <input type="password" id="confirmPassword" name="confirmPassword" minlength="6" autocomplete="new-password" placeholder="Re-enter new password">
                        </div>
                        
                        <div class="form-buttons">
                            <button type="submit" class="action-button">Update Profile</button>
                            <button type="button" class="cancel-button" onclick="resetForm()">Reset</button>
                        </div>
                        <div id="profileStatus" class="profile-status"></div>
                    </form>
                </div>
            </div>
        </main>
    </div>

    <script src="../assets/js/form-persistence.js" defer></script>
    <script src="./trainer-js/trainer-profile-management.js"></script>
</body>
</html>
