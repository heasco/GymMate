<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Send Class Feedback - GOALS Gym</title>
    <link rel="icon" type="image/png" href="image/logo2.png">
    <link rel="stylesheet" href="../admin/admin-css/admin-mainpage.css">
    <link rel="stylesheet" href="./member-css/send-class-feedback.css">
</head>
<body>
    <div class="admin-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>GOALS Gym Member</h2>
                <p id="sidebarMemberName" class="admin-fullname">Loading...</p>
            </div>
            <nav class="sidebar-nav">
                <a href="member-dashboard.html"><span>Dashboard</span></a>
                <a href="member-attendance.html"><span>Attendance</span></a>
                <a href="member-classes.html"><span>Schedule</span></a>
                <a href="manage-member-enrollment.html"><span>Enroll</span></a>
                <a href="member-profile.html"><span>Profile</span></a>
                <a href="send-class-feedback.html" class="active"><span>Feedback</span></a>
                <a href="view-transaction.html"><span>Transactions</span></a>
            </nav>
        </aside>

        <header class="header">
            <button class="menu-toggle" id="menuToggle">‚ò∞</button>
            <h1>Send Class Feedback</h1>
            <button class="logout-btn" id="logoutBtn">Logout</button>
        </header>

        <main class="main-content">
            <div class="container">
                <div class="member-greeting">
                    <h2>Share Your Feedback, <span id="memberName">Member</span>!</h2>
                    <p class="subtitle">Help us improve by sharing your class experience</p>
                    <div class="member-badge" id="memberIdBadge">Anonymous Feedback</div>
                </div>

                <div class="dashboard-grid">
                    <!-- Feedback Form Card -->
                    <div class="dashboard-card full-width">
                        <div class="card-header">
                            <h3>Send Class Feedback</h3>
                        </div>
                        <div class="card-body">
                            <form id="feedbackForm" class="feedback-form">
                                <div class="form-group">
                                    <label for="classSelect">Select Attended Class</label>
                                    <select id="classSelect" name="classId" required>
                                        <option value="">-- Select your attended class --</option>
                                        <!-- Classes will be dynamically loaded here -->
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="rating">Rating</label>
                                    <div class="rating-stars">
                                        <input type="radio" id="star5" name="rating" value="5">
                                        <label for="star5">‚≠ê</label>
                                        <input type="radio" id="star4" name="rating" value="4">
                                        <label for="star4">‚≠ê</label>
                                        <input type="radio" id="star3" name="rating" value="3">
                                        <label for="star3">‚≠ê</label>
                                        <input type="radio" id="star2" name="rating" value="2">
                                        <label for="star2">‚≠ê</label>
                                        <input type="radio" id="star1" name="rating" value="1">
                                        <label for="star1">‚≠ê</label>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="feedbackText">Your Feedback</label>
                                    <textarea id="feedbackText" name="feedback" placeholder="Share your experience with the class, trainer, facilities, or any suggestions for improvement..." required rows="6"></textarea>
                                </div>
                                
                                <div class="anonymous-notice">
                                    <span class="notice-icon">üîí</span>
                                    <span class="notice-text">Your feedback is <strong>anonymous</strong> to other members and trainers. Only administrators can view your identity for quality improvement purposes.</span>
                                </div>
                                
                                <div class="form-actions">
                                    <button type="submit" class="btn-primary">
                                        <span class="btn-icon">üì§</span>
                                        Send Feedback
                                    </button>
                                    <button type="reset" class="btn-secondary">
                                        <span class="btn-icon">üîÑ</span>
                                        Clear Form
                                    </button>
                                </div>
                                
                                <div id="feedbackStatus" class="message" style="display: none;"></div>
                            </form>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Quick Actions</h3>
                        </div>
                        <div class="card-body">
                            <div class="quick-actions">
                                <!-- NEW: View My Feedback Button -->
                                <button id="viewFeedbackBtn" class="action-btn primary">
                                    <span class="action-icon">üìã</span>
                                    <span class="action-text">View My Feedback</span>
                                </button>
                                
                                <a href="./member-dashboard.html" class="action-btn secondary">
                                    <span class="action-icon">üìä</span>
                                    <span class="action-text">View Dashboard</span>
                                </a>
                                <a href="./member-classes.html" class="action-btn secondary">
                                    <span class="action-icon">üìÖ</span>
                                    <span class="action-text">View Schedule</span>
                                </a>
                                <a href="./manage-member-enrollment.html" class="action-btn secondary">
                                    <span class="action-icon">‚ûï</span>
                                    <span class="action-text">Enroll in Classes</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Feedback History Modal -->
    <div id="feedbackModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>My Feedback History</h2>
                <button class="modal-close" id="closeFeedbackModal">&times;</button>
            </div>
            <div class="modal-body">
                <div id="feedbackList"></div>
            </div>
        </div>
    </div>

    <script src="../assets/js/form-persistence.js" defer></script>
    <script src="./member-js/send-class-feedback.js"></script>
</body>
</html>
