<!DOCTYPE html>
<html lang="en">
    <div class="add-member-form">
    <h2>Add New Member</h2>
    <form id="memberForm">
        <div class="form-group">
            <label for="memberName">Full Name:</label>
            <input type="text" id="memberName" name="memberName" required>
        </div>
        
        <div class="form-group">
            <label for="memberType">Member Type:</label>
            <select id="memberType" name="memberType" required>
                <option value="">-- Select Type --</option>
                <option value="monthly">Monthly Gym Goer</option>
                <option value="combative">Combative Sports</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="joinDate">Join Date:</label>
            <input type="date" id="joinDate" name="joinDate" required>
        </div>
        
        <div class="form-group">
            <label for="phone">Phone Number:</label>
            <input type="tel" id="phone" name="phone">
        </div>
        
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email">
        </div>
        
        <button type="submit" class="add-member-button">Add Member</button>
    </form>
</div>
<script>
    document.getElementById('memberForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  
  try {
    const response = await fetch('https://flex-it-goalsgym-it-project-2.onrender.com/api/members', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        name: document.getElementById('memberName').value,
        type: document.getElementById('memberType').value,
        phone: document.getElementById('phone').value,
        email: document.getElementById('email').value
      })
    });

    if (!response.ok) {
      const errorData = await response.json();
      throw new Error(errorData.error || 'Failed to add member');
    }

    const result = await response.json();
    alert(`Member added! ID: ${result.member.id}`);
    document.getElementById('memberForm').reset();
    
  } catch (error) {
    console.error('Full error:', error);
    alert(`Error: ${error.message}`);
  }
});
</script>


</html>